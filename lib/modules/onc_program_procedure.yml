procedure:
  - section: Paragraph (g)(10)(iii) - Application registration
    steps:
      - group: Application Registration
        id: APP-REGISTRATION-1
        SUT: |
          The health IT developer demonstrates the Health IT Module supports
          application registration with an authorization server for the purposes
          of Electronic Health Information (EHI) access for single patients,
          including support for application registration functions to enable
          authentication and authorization in § 170.315(g)(10)(v).
        TLV: |
          The tester verifies the Health IT Module supports application
          registration with an authorization server for the purposes of EHI
          access for single patients, including support for application
          registration functions to enable authentication and authorization in §
          170.315(g)(10)(v).
        inferno_tests:
          - ATT-01
        inferno_supported: 'yes'
        inferno_notes: |
          This requires a visual inspection and attestation because it is not
          possible to automate without any standard method required for application
          registration.
      - id: APP-REGISTRATION-2
        SUT: |
          The health IT developer demonstrates the Health IT Module supports
          application registration with an authorization server for the purposes
          of EHI access for multiple patients including support for application
          registration functions to enable authentication and authorization in §
          170.315(g)(10)(v).
        TLV: |
          The tester verifies the Health IT Module supports application
          registration with an authorization server for the purposes of EHI
          access for multiple patients including support for application
          registration functions to enable authentication and authorization in §
          170.315(g)(10)(v).
        inferno_tests: 
          - ATT-02
        inferno_supported: 'yes'
        inferno_notes: |
          This requires a visual inspection and attestation because it is not
          possible to automate without any standard method required for application
          registration.
  - section: Paragraph (g)(10)(iv) – Secure connection
    steps:
      - group: Secure connection
        id: SECURE-CONNECTION-1
        SUT: | 
          For all transmissions between the Health IT Module and the
          application, the health IT developer demonstrates the use of a
          secure and trusted connection in accordance with the
          implementation specifications adopted in § 170.215(a)(2) and §
          170.215(a)(3), including:
          * Using TLS version 1.2 or higher; and
          * Conformance to FHIR Communications Security requirements.
        TLV: |
          For all transmissions between the Health IT Module and the
          application, the tester verifies the use of a secure and trusted
          connection in accordance with the implementation specifications
          adopted in § 170.215(a)(2) and § 170.215(a)(3), including:
          * Using TLS version 1.2 or higher; and
          * Conformance to FHIR Communications Security requirements.
        inferno_supported: 'yes'
        inferno_tests:
          - SPB-OSLS-01
          - SPB-OSLS-04
          - RPA-OSRLS-01
          - RPA-OSRLS-04
          - EHB-OELS-03
          - EHB-OELS-06
          - USCCAP-01
          - BDA-01
          - BDE-01
          - BDGV-01
        inferno_notes: |
          Inferno tests that all endpoints provided support at least TLS
          version 1.2, and rejects all requests for TLS version 1.1 or below.
          This includes all FHIR endpoints (if more than one is provided), as
          well as authorization endpoints required by SMART. Inferno can be
          configured to disable TLS testing if configuring TLS within a
          lab environment is not possible.  Note that there are no SHALL
          requirements within the "FHIR Communications Security Requirements" in
          FHIR R4, and therefore there are no tests based on this requirement.
  - section: Paragraph (g)(10)(v)(A) – Authentication and authorization for patient and user scopes
    steps:
      - group: Authentication and Authorization for Patient and User Scopes
        id: AUTH-PATIENT-1
        SUT: | 
          The health IT developer demonstrates the ability of the Health IT
          Module to support the following for “EHR-Launch,” “StandaloneLaunch,”
          and “Both” (“EHR-Launch” and “Standalone-Launch”) as
          specified in the implementation specification adopted in §
          170.215(a)(3).
        TLV: |
          The tester verifies the ability of the Health IT Module to support
          the following for “EHR-Launch,” “Standalone-Launch,” and “Both”
          (“EHR-Launch” and “Standalone-Launch”) as specified in the
          implementation specification adopted in § 170.215(a)(3).
        inferno_supported: 'yes'
        inferno_tests:
          - SPB-OSLS-01 - SPB-OSLS-09
          - EHB-OELS-01 - EHB-OELS-11
        inferno_notes: |
          Complete demonstration of these capabilities are accomplished
          through subsequent steps in the test procedure.
      - id: AUTH-PATIENT-2
        SUT: |
          [EHR-Launch] The health IT developer demonstrates the ability of
          the Health IT Module to initiate a “launch sequence” using the
          “launch-ehr" “SMART on FHIR Core Capability” SMART EHR Launch
          mode detailed in the implementation specification adopted in §
          170.215(a)(3), including:
          * Launching the registered launch URL of the application; and
          * Passing the parameters: “iss” and “launch”.
        TLV: |
          [EHR-Launch] The tester verifies the ability of the Health IT
          Module to initiate a “launch sequence” using the “launch-ehr"
          “SMART on FHIR Core Capability” SMART EHR Launch mode
          detailed in the implementation specification adopted in §
          170.215(a)(3), including:
          * Launching the registered launch URL of the application; and
          * Passing the parameters: “iss” and “launch”.
        inferno_supported: 'yes'
        inferno_tests:
          - EHB-OELS-01 - EHB-OELS-02
          - EHB-OELS-04
      - id: AUTH-PATIENT-3
        SUT: |
          [Standalone-Launch] The health IT developer demonstrates the
          ability of the Health IT Module to launch using the “launch-standalone"
          "SMART on FHIR Core Capability" SMART Standalone
          Launch mode detailed in the implementation specification
          adopted in § 170.215(a)(3).
        TLV: |
          [Standalone-Launch] The tester verifies the ability of the Health IT
          Module to launch using the “launch-standalone" “SMART on FHIR
          Core Capability” SMART Standalone Launch mode detailed in the
          implementation specification adopted in § 170.215(a)(3).
        inferno_supported: 'yes'
        inferno_tests:
          - SPB-OSLS-02
      - id: AUTH-PATIENT-4
        SUT: |
          [Standalone-Launch] The health IT developer demonstrates the ability
          of the Health IT Module to support SMART’s public client profile.
        TLV: |
          [Standalone-Launch] The tester verifies the ability of the Health IT
          Module to support SMART’s public client profile.
        inferno_supported: 'yes'
        inferno_tests:
          - OSLSP-01 - OSLSP-07
      - id: AUTH-PATIENT-5
        SUT: |
          [Both] The health IT developer demonstrates the ability of the
          Health IT Module to support the following as detailed in the
          implementation specification adopted in § 170.215(a)(3) and
          standard adopted in § 170.215(a)(1):
          * The “.well-known/smart-configuration.json” path; and
          * A FHIR “CapabilityStatement”.
        TLV: |
          [Both] The tester verifies the ability of the Health IT Module to
          support the following as detailed in the implementation
          specification adopted in § 170.215(a)(3) and standard adopted in §
          170.215(a)(1):
          * The “.well-known/smart-configuration.json” path; and
          * A FHIR “CapabilityStatement”.
        inferno_supported: 'yes'
        inferno_tests:
          - SPA-OSD-01 - SPA-OSD-02
          - SPA-OSD-04
          - EHA-OSD-01 - EHA-OSD-02
          - EHA-OSD-04
      - id: AUTH-PATIENT-6
        SUT: |
          [Both] The health IT developer demonstrates the ability of the
          “.well-known/smart-configuration.json” path to support at least
          the following as detailed in the implementation specification
          adopted in § 170.215(a)(3):
          * “authorization_endpoint”;
          * “token_endpoint”; and
          * “capabilities” (including support for all the “SMART on FHIR Core Capabilities”).
        TLV: |
          [Both] The tester verifies the ability of the “.well-known/smartconfiguration.json”
          path to support at least the following as detailed in the implementation specification
          adopted in § 170.215(a)(3):
          * “authorization_endpoint”;
          * “token_endpoint”; and
          * “capabilities” (including support for all the “SMART on FHIR Core Capabilities”).
        inferno_supported: 'yes'
        inferno_tests:
          - SPA-OSD-02
          - SPA-OSD-05 - SPA-OSD-06
          - EHA-OSD-02
          - EHA-OSD-05 - EHA-OSD-06
        inferno_notes: |
          Inferno additionally checks that the "authorization endpoint" and the
          "token endpoint" are consistent between the Capability Statement and
          the well-known endpoint.
      - id: AUTH-PATIENT-7
        SUT: |
          [Both] The health IT developer demonstrates the ability of the
          FHIR “CapabilityStatement” to support at least the following
          components as detailed in the implementation specification
          adopted in § 170.215(a)(3) and standard adopted in §
          170.215(a)(1), including:
          * “authorize”; and
          * “token”.
        TLV: |
          [Both] The tester verifies the ability of the FHIR
          “CapabilityStatement” to support at least the following
          components as detailed in the implementation specification
          adopted in § 170.215(a)(3) and standard adopted in §
          170.215(a)(1), including:
          * “authorize”; and
          * “token”.
        inferno_supported: 'yes'
        inferno_tests:
          - SPA-OSD-04 - SPA-OSD-05
          - EHA-OSD-04 - EHA-OSD-05
        inferno_notes: |
          Inferno additionally checks that the "authorization endpoint" and the
          "token endpoint" are consistent between the Capability Statement and
          the well-known endpoint.
      - id: AUTH-PATIENT-8
        SUT: |
          [Both] The health IT developer demonstrates the ability of the
          Health IT Module to receive an authorization request according to
          the implementation specification adopted in § 170.215(a)(3),
          including support for the following parameters:
          * “response_type”;
          * “client_id”;
          * “redirect_uri”;
          * “launch” (for EHR-Launch mode only);
          * “scope”;
          * “state”; and
          * “aud”.
        TLV: |
          [Both] The tester verifies the ability of the Health IT Module to
          receive an authorization request according to the implementation
          specification adopted in § 170.215(a)(3), including support for the
          following parameters:
          * “response_type”;
          * “client_id”;
          * “redirect_uri”;
          * “launch” (for EHR-Launch mode only);
          * “scope”;
          * “state”; and
          * “aud”.
        inferno_supported: 'yes'
        inferno_tests: 
            - SPB-OSLS-02 - SPB-OSLS-03
            - EHB-OELS-04 - EHB-OELS-05
      - id: AUTH-PATIENT-9
        SUT: |
          [Both] The health IT developer demonstrates the ability of the Health
          IT Module to support the receipt of the following scopes and
          capabilities according to the implementation specification adopted in
          § 170.215(a)(3) and standard adopted in § 170.215(b):
          * “openid” (to support “sso-openid-connect” “SMART on FHIR Core Capability”);
          * “fhirUser” (to support “sso-openid-connect” “SMART on FHIR Core Capability”);
          * “need_patient_banner” (to support “context-banner” “SMART on FHIR Core Capability” for EHR-Launch mode only);
          * “smart_style_url” (to support “context-style” “SMART on FHIR Core Capability” for EHR-Launch mode only);
          * “launch/patient” (to support “context-standalone-patient” “SMART on FHIR Core Capability” for Standalone-Launch mode only);
          * “launch” (for EHR-Launch mode only);
          * “offline_access” (to support “permission-offline” “SMART on FHIR Core Capability”);
          * Patient-level scopes(to support “permission-patient” “SMART on FHIR Core Capability”); and
          * User-level scopes (to support “permission-user” “SMART on FHIR Core Capability”).
        TLV: |
          [Both] The tester verifies the ability of the Health IT Module to
          support the receipt of the following scopes and capabilities according
          to the implementation specification adopted in § 170.215(a)(3) and
          standard adopted in § 170.215(b):
          * “openid” (to support “sso-openid-connect” “SMART on FHIR Core Capability”);
          * “fhirUser” (to support “sso-openid-connect” “SMART on FHIR Core Capability”);
          * “need_patient_banner” (to support “context-banner” “SMART on FHIR Core Capability” for EHR-Launch mode only);
          * “smart_style_url” (to support “context-style” “SMART on FHIR Core Capability” for EHR-Launch mode only);
          * “launch/patient” (to support “context-standalone-patient” “SMART on FHIR Core Capability” for Standalone-Launch mode only);
          * “launch” (for EHR-Launch mode only);
          * “offline_access” (to support “permission-offline” “SMART on FHIR Core Capability”);
          * Patient-level scopes (to support “permission-patient” “SMART on FHIR Core Capability”); and
          * User-level scopes (to support “permission-user” “SMART on FHIR Core Capability”).
        inferno_supported: 'yes'
        inferno_tests:
          - SPB-OSLS-02
          - EHB-OELS-05
        inferno_notes: |
          This step refers to only the receipt of these scopes, which is covered in
          Inferno in one step in each the EHR and Standalone launch cases.  However,
          it is not possible to tell if these scopes were properly granted until
          verifying that the client has access to perform the necessary steps.  
          Inferno does this as well, but this mapping only refers to the 'receipt' portion
          of the launch process.
      - id: AUTH-PATIENT-10
        SUT: |
          [Both] The health IT developer demonstrates the ability of the
          Health IT Module to evaluate the authorization request and
          request end-user input, if applicable (required for patient-facing
          applications), including the ability for the end-user to authorize an
          application to receive Electronic Health Information (EHI) based
          on FHIR resource-level scopes for all of the FHIR resources
          associated with the profiles specified in the standard adopted in
          § 170.213 and implementation specification adopted in
          § 170.215(a)(2), including:
          * "AllergyIntolerance";
          * "CarePlan";
          * "CareTeam";
          * "Condition";
          * "Device";
          * "DiagnosticReport";
          * "DocumentReference";
          * "Encounter";
          * "Goal";
          * "Immunization";
          * "Location";
          * "Medication" (if supported);
          * "MedicationRequest";
          * "Observation";
          * "Organization";
          * "Patient";
          * “Practitioner";
          * “PractitionerRole";
          * “Procedure";
          * “Provenance"; and
          * “RelatedPerson";
        TLV: |
          [Both] The tester verifies the ability of the
          Health IT Module to evaluate the authorization request and
          request end-user input, if applicable (required for patient-facing
          applications), including the ability for the end-user to authorize an
          application to receive Electronic Health Information (EHI) based
          on FHIR resource-level scopes for all of the FHIR resources
          associated with the profiles specified in the standard adopted in
          § 170.213 and implementation specification adopted in
          § 170.215(a)(2), including:
          * "AllergyIntolerance";
          * "CarePlan";
          * "CareTeam";
          * "Condition";
          * "Device";
          * "DiagnosticReport";
          * "DocumentReference";
          * "Encounter";
          * "Goal";
          * "Immunization";
          * "Location";
          * "Medication" (if supported);
          * "MedicationRequest";
          * "Observation";
          * "Organization";
          * "Patient";
          * “Practitioner";
          * “PractitionerRole";
          * “Procedure";
          * “Provenance"; and
          * “RelatedPerson";
        inferno_supported: 'yes'
        inferno_tests:
          - SPB-OSLS-02
          - SPB-OSLS-07
          - EHB-OELS-04
          - EHB-OELS-09
          - RPA-OSRLS-02
          - RPA-OSRLS-07
          - AVU-01 - AVU-14
          - AVR-01 - AVR-14
        inferno_notes: |
          Inferno verifies that end-user input is requested by requiring one app
          launch have complete access to required resources and having one app
          launch have limited access based on the preferences of the tester.
      - id: AUTH-PATIENT-11 
        SUT: |
          [Both] The health IT developer demonstrates the ability of Health IT
          Module to evaluate the authorization request and request end-user
          input, if applicable (required for patient-facing applications),
          including the ability for the end-user to explicitly enable the
          “offline_access” scope according to the implementation specification
          adopted in § 170.215(a)(3).
        TLV: | 
          The tester verifies the ability of Health IT Module to evaluate
          the authorization request and request end-user input, if applicable
          (required for patient-facing applications), including the ability for
          the end-user to explicitly enable the “offline_access” scope according
          to the implementation specification adopted in § 170.215(a)(3).
        inferno_supported: 'yes'
        inferno_tests:
          - SPB-OSLS-02
          - SPB-OSLS-07
          - RPA-OSRLS-02
          - RPA-OSRLS-07
          - AVU-01 - AVU-14
          - AVR-01 - AVR-14
        inferno_notes: |
          Inferno verifies that end-user input is requested by requiring one app
          launch have complete access to required resources and having one app
          launch have limited access based on the preferences of the tester.
          Inferno requests full resource and 'offline_access' access, and the tester
          is expected to select the correct subset of resources and deny 'offline_access'
          based on previously selected preferences.
      - id: AUTH-PATIENT-12
        SUT: |
          [Both] The health IT developer demonstrates the ability of the Health
          IT Module to deny an application’s authorization request according to
          a patient’s preferences selected in steps 9 and 10 of this section in
          accordance with the implementation specification adopted in §
          170.215(a)(3).
        TLV: |
          [Both] The tester verifies the ability of the Health IT Module to deny
          an application’s authorization request according to a patient’s
          preferences selected in steps 9 and 10 of this section in accordance
          with the implementation specification adopted in § 170.215(a)(3).
        inferno_supported: 'yes'
        inferno_tests:
          - SPB-OSLS-02
          - SPB-OSLS-07
          - RPA-OSRLS-02
          - RPA-OSRLS-07
          - AVU-01 - AVU-14
          - AVR-01 - AVR-14
        inferno_notes: |
          Inferno verifies that end-user input is requested by requiring one app
          launch have complete access to required resources and having one app
          launch have limited access based on the preferences of the tester.
          Inferno requests full resource and 'offline_access' access, and the tester
          is expected to select the correct subset of resources and deny 'offline_access'
          based on previously selected preferences.
      - id: AUTH-PATIENT-13
        SUT: |
          [EHR-Launch] The health IT developer demonstrates the ability of
          the Health IT Module to return an error response if the following
          parameters provided by an application to the Health IT Module in
          step 7 of this section do not match the parameters originally
          provided to an application by the Health IT Module in step 2 of
          this section according to the implementation specification
          adopted in § 170.215(a)(3):
          * “launch”; and
          * “aud”.
        TLV: |
          [EHR-Launch] The tester verifies the ability of the Health IT
          Module to return an error response if the following parameters
          provided by an application to the Health IT Module in step 7 of
          this section do not match the parameters originally provided to an
          application by the Health IT Module in step 2 of this section
          according to the implementation specification adopted in §
          170.215(a)(3):
          * “launch”; and
          * “aud”.
        inferno_supported: 'yes'
        inferno_tests:
          - SIA-01 - SIA-02
          - SIL-01 - SIL-02
      - id: AUTH-PATIENT-14
        SUT: |
          [Both] The health IT developer demonstrates the ability of the
          Health IT Module to grant an application access to EHI by
          returning an authorization code to the application according to
          the implementation specification adopted in § 170.215(a)(3),
          including the following parameters:
          * “code”; and
          * “state”.
        TLV: |
          [Both] The tester verifies the ability of the
          Health IT Module to grant an application access to EHI by
          returning an authorization code to the application according to
          the implementation specification adopted in § 170.215(a)(3),
          including the following parameters:
          * “code”; and
          * “state”.
        inferno_supported: 'yes'
        inferno_tests: 
          - SPB-OSLS-03
          - EHB-OELS-05
      - id: AUTH-PATIENT-15
        SUT: |
          [Both] The health IT developer demonstrates the ability of the
          Health IT Module to receive the following parameters from an
          application according to the implementation specification adopted
          in § 170.215(a)(3):
          * “grant_type”;
          * “code”;
          * “redirect_uri”;
          * “client_id”; and
          * Authorization header including “client_id” and "client_secret"
        TLV: |
          [Both] The tester verifies the ability of the
          Health IT Module to receive the following parameters from an
          application according to the implementation specification adopted
          in § 170.215(a)(3):
          * “grant_type”;
          * “code”;
          * “redirect_uri”;
          * “client_id”; and
          * Authorization header including “client_id” and "client_secret"
        inferno_supported: 'yes'
        inferno_tests:
          - SPB-OSLS-07
          - EHB-OELS-09
        inferno_notes: |
          "client_secret" is only provided in the case of confidential clients.
      - id: AUTH-PATIENT-16
        SUT: |
          [Both] The health IT developer demonstrates the ability of the
          Health IT Module to return a JSON object to applications according
          to the implementation specification adopted in § 170.215(a)(3)
          and standard adopted in § 170.215(b), including the following:
          * “access_token”;
          * “token_type”;
          * “scope”;
          * “id_token”;
          * “refresh_token” (valid for a period of no shorter than three months);
          * HTTP “Cache-Control” response header field with a value of “no-store”;
          * HTTP “Pragma” response header field with a value of “nocache”;
          * “patient” (to support “context-ehr-patient” and “contextstandalone-patient” “SMART on FHIR Core Capabilities”);
          * “need_patient_banner” (to support “context-banner” “SMART on FHIR Core Capability” for EHR-Launch mode only); and
          * “smart_style_url” (to support “context-style” “SMART on FHIR Core Capability” for EHR-Launch mode only).
        TLV: |
          [Both] The tester verifies the ability of the
          Health IT Module to return a JSON object to applications according
          to the implementation specification adopted in § 170.215(a)(3)
          and standard adopted in § 170.215(b), including the following:
          * “access_token”;
          * “token_type”;
          * “scope”;
          * “id_token”;
          * “refresh_token” (valid for a period of no shorter than three months);
          * HTTP “Cache-Control” response header field with a value of “no-store”;
          * HTTP “Pragma” response header field with a value of “nocache”;
          * “patient” (to support “context-ehr-patient” and “contextstandalone-patient” “SMART on FHIR Core Capabilities”);
          * “need_patient_banner” (to support “context-banner” “SMART on FHIR Core Capability” for EHR-Launch mode only); and
          * “smart_style_url” (to support “context-style” “SMART on FHIR Core Capability” for EHR-Launch mode only).
        inferno_supported: 'yes'
        inferno_tests: 
          - SPB-OSLS-08 - SPB-OSLS-09
          - EHB-OELS-10 - EHB-OELS-11
      - id: AUTH-PATIENT-17
        SUT: |
          [Both] The health IT developer demonstrates the ability of the
          Health IT Module to provide an OpenID Connect well-known URI in
          accordance with the implementation specification adopted in §
          170.215(b), including:
          * All required fields populated according to implementation specification adopted in § 170.215(b)
          * Valid JWKS populated according to implementation specification can be retrieved via JWKS URI
        TLV: |
          [Both] The tester verfies the ability of the Health IT Module to
          provide an OpenID Connect well-known URI in accordance with the
          implementation specification adopted in § 170.215(b), including:
          * All required fields populated according to implementation specification adopted in § 170.215(b)
          * Valid JWKS populated according to implementation specification can be retrieved via JWKS URI
        inferno_supported: 'yes'
        inferno_tests:
          - SPC-OIDC-01 - SPC-OIDC-07
          - EHC-OIDC-01 - EHC-OIDC-07
        inferno_notes: |
          Inferno decodes the id_token provided during authentication and
          verifies that it contains the correct claims, has a valid signature,
          and the fhirUser claim contains a reference to the current user that
          can be retreived using the bearer token provided during the application launch.
      - id: AUTH-PATIENT-18
        SUT: |
          [Both] The health IT developer demonstrates the ability of the
          Health IT Module to deny an application’s authorization request in
          accordance with the implementation specification adopted in §
          170.215(a)(3).
        TLV: |
          [Both] The tester demonstrates the ability of the
          Health IT Module to deny an application’s authorization request in
          accordance with the implementation specification adopted in §
          170.215(a)(3).
        inferno_supported: 'yes'
        inferno_notes: |
          Inferno verifies that the user has the ability to explicitly authorize
          apps to appropriate resources and capabilities.  Inferno also verifies
          that apps that send invalid information during the authorization process
          are denied.
        inferno_tests:
          - RPA-OSRLS-02 - RPA-OSRLS-11
          - AVR-01 - AVR-14
      - id: AUTH-PATIENT-19
        SUT: |
          [Standalone-Launch] The health IT developer the ability of the Health IT
          Module to return a “Patient” FHIR resource that matches the
          patient context provided in step 8 of this section according to the
          implementation specification adopted in § 170.215(a)(2).
        TLV: |
          [Standalone-Launch] The tester verifies the ability of the Health IT
          Module to return a “Patient” FHIR resource that matches the
          patient context provided in step 8 of this section according to the
          implementation specification adopted in § 170.215(a)(2).
        inferno_supported: 'yes'
        inferno_tests:
          - SPB-OSLS-10
          - EHB-OELS-14
      - id: AUTH-PATIENT-20
        SUT: |
          [Both] The health IT developer demonstrates the ability of the
          Health IT Module to grant an access token when a refresh token is
          supplied according to the implementation specification adopted in
          § 170.215(a)(2).
        TLV: |
          [Both] The health IT developer demonstrates the ability of the
          Health IT Module to grant an access token when a refresh token is
          supplied according to the implementation specification adopted in
          § 170.215(a)(2).
        inferno_supported: 'yes'
        inferno_tests:
          - SPD-TR-03 - SPD-TR-05
          - EHD-TR-03 - EHD-TR-05
      - group: 'Subsequent Connections: Authentication and Authorization for Patient and User Scopes'
        id: AUTH-PATIENT-21
        SUT: | 
          The health IT developer demonstrates the ability of the Health IT
          Module to issue a new refresh token valid for a period of no
          shorter than three months without requiring re-authentication
          and re-authorization when a valid refresh token is supplied by the
          application according to the implementation specification adopted
          in § 170.215(a)(3).
        TLV: | 
          The tester verifies the ability of the Health IT
          Module to issue a new refresh token valid for a period of no
          shorter than three months without requiring re-authentication
          and re-authorization when a valid refresh token is supplied by the
          application according to the implementation specification adopted
          in § 170.215(a)(3).
        inferno_supported: 'yes'
        inferno_tests:
          - SPD-TR-06
          - ATT-05
        inferno_notes: |
          Inferno requires that a new refresh token is presented along with
          a new access token during a successful token refresh.  This is not
          strictly required by the OAuth 2.0 specification but is required
          as part of the certification criteria.  Inferno cannot verify the
          three month token expiration requirement, but the tester can
          register an attestation that this requirement is met.
      - id: AUTH-PATIENT-22
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to return an error response when supplied an invalid
          refresh token as specified in the implementation specification
          adopted in § 170.215(a)(3).
        TLV: |
          The tester verifies the ability of the Health IT
          Module to return an error response when supplied an invalid
          refresh token as specified in the implementation specification
          adopted in § 170.215(a)(3).
        inferno_supported: 'yes'
        inferno_tests:
          - SPD-TR-01 - SPD-TR-02
          - EHD-TR-01 - EHD-TR-02
  - section: Paragraph (g)(10)(vi) – Patient authorization revocation
    steps:
      - group: Patient Authorization Revocation
        id: REVOCATION-1
        SUT: |
          The health IT developer demonstrates the ability of the Health IT Module to revoke
          access to an authorized application at a patient’s direction,
          including a demonstration of the inability of the application with
          revoked access to receive patient EHI.
        TLV: |
          The tester verifies the ability of the Health IT Module to revoke
          access to an authorized application at a patient’s direction,
          including a demonstration of the inability of the application with
          revoked access to receive patient EHI.
        inferno_supported: 'yes'
        inferno_tests:
          - TR-01 - TR-03
  - section: Authentication and authorization for system scopes
    steps:
      - group: Authentication and Authorization for System Scopes
        id: AUTH-SYSTEM-1
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support OAuth 2.0 client credentials grant flow in
          accordance with the implementation specification adopted in §
          170.215(a)(4).
        TLV: |
          The tester verfies the ability of the Health IT
          Module to support OAuth 2.0 client credentials grant flow in
          accordance with the implementation specification adopted in §
          170.215(a)(4).
        inferno_supported: 'yes'
        inferno_tests:
          - BDA-02 - BDA-08
      - id: AUTH-SYSTEM-2
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support the following parameters according to the
          implementation specification adopted in § 170.215(a)(4):
          * “scope”;
          * “grant_type”;
          * “client_assertion_type”; and
          * “client_assertion”
        TLV: |
          The tester verifies the ability of the Health IT
          Module to support the following parameters according to the
          implementation specification adopted in § 170.215(a)(4):
          * “scope”;
          * “grant_type”;
          * “client_assertion_type”; and
          * “client_assertion”
        inferno_supported: 'yes'
        inferno_tests:
          - BDA-07
      - id: AUTH-SYSTEM-3
        SUT: |
          The tester verifies the ability of the Health IT
          Module to support the following JSON Web Token (JWT) Headers
          and Claims according to the implementation specification adopted
          in § 170.215(a)(4):
          * “alg” header;
          * “kid” header;
          * “typ” header;
          * “iss” claim;
          * “sub” claim;
          * “aud” claim;
          * “exp” claim; and
          * “jti” claim.
        TLV: |
          The tester verifies the ability of the Health IT
          Module to support the following JSON Web Token (JWT) Headers
          and Claims according to the implementation specification adopted
          in § 170.215(a)(4):
          * “alg” header;
          * “kid” header;
          * “typ” header;
          * “iss” claim;
          * “sub” claim;
          * “aud” claim;
          * “exp” claim; and
          * “jti” claim.
        inferno_supported: 'yes'
        inferno_tests:
          - BDA-07
      - id: AUTH-SYSTEM-4
        SUT: |
          The tester verifies the ability of the Health IT
          Module to receive and process the JSON Web Key (JWK) Set via a
          TLS-protected URL to support authorization for system scopes in §
          170.315(g)(10)(v)(B).
        TLV: |
          The tester verifies the ability of the Health IT
          Module to receive and process the JSON Web Key (JWK) Set via a
          TLS-protected URL to support authorization for system scopes in §
          170.315(g)(10)(v)(B).
        inferno_supported: 'yes'
        inferno_tests:
          - BDA-07
      - id: AUTH-SYSTEM-5
        SUT: |
          The health IT developer demonstrates that the Health IT Module
          does not cache a JWK Set received via a TLS-protected URL for
          longer than the “cache-control” header received by an application
          indicates.
        TLV: |
          The tester verifies the Health IT Module
          does not cache a JWK Set received via a TLS-protected URL for
          longer than the “cache-control” header received by an application
          indicates.
        inferno_supported: 'yes'
        inferno_notes: |
          This test requires the tester to register an attestation from the
          Health IT Module that the "cache-control" header is obeyed.
        inferno_tests:
          - ATT-11
      - id: AUTH-SYSTEM-6
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to validate an application’s JWT, including its JSON Web
          Signatures, according to the implementation specification adopted
          in § 170.215(a)(4).
        TLV: |
          The tester verifies the ability of the Health IT
          Module to validate an application’s JWT, including its JSON Web
          Signatures, according to the implementation specification adopted
          in § 170.215(a)(4).
        inferno_supported: 'yes'
        inferno_tests:
          - BDA-07
      - id: AUTH-SYSTEM-7
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to respond with an “invalid_client” error for errors
          encountered during the authentication process according to the
          implementation specification adopted in § 170.215(a)(4).
        TLV: |
          The tester verifies the ability of the Health IT
          Module to respond with an “invalid_client” error for errors
          encountered during the authentication process according to the
          implementation specification adopted in § 170.215(a)(4).
        inferno_supported: 'yes'
        inferno_tests:
          - BDA-02 - BDA-06
      - id: AUTH-SYSTEM-8
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to assure the scope requested by an application is no
          greater than the pre-authorized scope for multiple patients
          according to the implementation specification adopted in §
          170.215(a)(4).
        TLV: |
          The tester verifies the ability of the Health IT
          Module to assure the scope requested by an application is no
          greater than the pre-authorized scope for multiple patients
          according to the implementation specification adopted in §
          170.215(a)(4).
        inferno_supported: 'yes'
        inferno_notes: |
          There is no requirement for support of a subset of the resources
          so you can't check to see what happens when you attempt to access
          more than what was pre-authorized.  The Health IT module must
          demonstrate this and register its attestation within Inferno.
        inferno_tests:
          - ATT-08
      - id: AUTH-SYSTEM-9
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to issue an access token to an application as a JSON object
          in accordance with the implementation specification adopted in §
          170.215(a)(4), including the following property names:
          * “access_token”;
          * “token_type”;
          * “expires_in”; and
          * “scope”
        TLV: |
          The tester verifies the ability of the Health IT
          Module to issue an access token to an application as a JSON object
          in accordance with the implementation specification adopted in §
          170.215(a)(4), including the following property names:
          * “access_token”;
          * “token_type”;
          * “expires_in”; and
          * “scope”
        inferno_supported: 'yes'
        inferno_tests:
          - BDA-08
      - id: AUTH-SYSTEM-10
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to respond to errors using the appropriate error messages
          as specified in the implementation specification adopted in §
          170.215(a)(4).
        TLV: |
          The tester verifies the ability of the Health IT
          Module to respond to errors using the appropriate error messages
          as specified in the implementation specification adopted in §
          170.215(a)(4).
        inferno_supported: 'yes'
        inferno_tests:
          - BDA-02 - BDA-06
          - BDE-03 - BDE-05
  - section: Paragraph (g)(10)(vii) – Token introspection
    steps:
      - group: Token Introspection
        id: INTROSPECTION-1
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to receive and validate a token it has issued.
        TLV: |
          The tester verifies the ability of the Health IT
          Module to receive and validate a token it has issued.
        inferno_supported: 'yes'
        inferno_notes: |
          No standard is required and therefore Inferno cannot do this in
          an automated fashion and this is recorded as an attestation
          within Inferno.
        inferno_tests:
          - ATT-06
  - section: Paragraph (g)(10)(ii) – Supported search operations
    steps:
      - group: Supported Search Operations for a Single Patient’s Data
        id: SEARCH-1
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support the “capabilities” interaction as specified in the
          standard adopted in § 170.215(a)(1), including support for a
          “CapabilityStatement” as specified in the standard adopted in §
          170.215(a)(1) and implementation specification adopted in §
          170.215(a)(2).
        TLV: |
          The tester verfies the ability of the Health IT
          Module to support the “capabilities” interaction as specified in the
          standard adopted in § 170.215(a)(1), including support for a
          “CapabilityStatement” as specified in the standard adopted in §
          170.215(a)(1) and implementation specification adopted in §
          170.215(a)(2).
        inferno_supported: 'yes'
        inferno_tests:
          - USCCAP-02 - USCCAP-05
      - id: SEARCH-2
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to respond to requests for a single patient’s data
          consistent with the search criteria detailed in the “US Core Server
          CapabilityStatement” section of the implementation specification
          adopted in § 170.215(a)(2), including demonstrating search
          support for “SHALL” operations and parameters for all the data
          included in the standard adopted in § 170.213.
        TLV: |
          The tester verifies the ability of the Health IT Module to respond to
          requests for a single patient’s data consistent with the search
          criteria detailed in the “US Core Server CapabilityStatement”
          section of the implementation specification adopted in §
          170.215(a)(2), including demonstrating search support for “SHALL”
          operations and parameters for all the data included in the standard
          adopted in § 170.213.
        inferno_supported: 'yes'
        inferno_tests:
          - USCP-02
          - USCAI-02
          - USCCP-02
          - USCCT-02
          - USCC-02
          - USCID-02
          - USCDRRN-02
          - USCDRLRR-02
          - USCDR-02
          - USCG-02
          - USCI-02
          - USCMR-02
          - USCSSO-02
          - USCPWHO-02
          - USCLRO-02
          - USCPBMIAO-02
          - USCPO-02
          - USCOBH-02
          - USCOBT-02
          - USCOBP-02
          - USCOBW-02
          - USCOHC-02
          - USCOHR-02
          - USCORR-02
          - USCPROC-02
          - USCCN-02
          - USCO-02
          - USCPROV-02
      - id: SEARCH-3
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support a resource search for the provenance target
          “(_revIncludes: Provenance:target)” for all the FHIR resources 
          included in the standard adopted in § 170.213 and implementation
          specification adopted in § 170.215(a)(2) according to the “Basic
          Provenance Guidance” section of the implementation specification
          adopted in § 170.215(a)(2).
        TLV: |
          The tester verifies the ability of the Health IT
          Module to support a resource search for the provenance target
          “(_revIncludes: Provenance:target)” for all the FHIR resources 
          included in the standard adopted in § 170.213 and implementation
          specification adopted in § 170.215(a)(2) according to the “Basic
          Provenance Guidance” section of the implementation specification
          adopted in § 170.215(a)(2).
        inferno_supported: 'yes'
        inferno_tests:
          - USCP-11
          - USCAI-06
          - USCCP-06
          - USCCT-05
          - USCC-08
          - USCID-06
          - USCDRRN-10
          - USCDRLRR-10
          - USCDR-11
          - USCG-07
          - USCI-07
          - USCMR-09
          - USCSSO-05
          - USCPWHO-09
          - USCLRO-10
          - USCPBMIAO-09
          - USCPO-09
          - USCOBH-09
          - USCOBT-09
          - USCOBP-09
          - USCOBW-09
          - USCOHC-09
          - USCOHR-09
          - USCORR-09
          - USCPROC-02
      - group: Supported Search Operations for Multiple Patients’ Data
        id: SEARCH-4
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support the “capabilities” interaction as specified in the
          standard adopted in § 170.215(a)(1), including support for a
          “CapabilityStatement” as specified in the standard adopted in §
          170.215(a)(1) and implementation specification adopted in §
          170.215(a)(4).
        TLV: |
          The tester verifies the ability of the Health IT
          Module to support the “capabilities” interaction as specified in the
          standard adopted in § 170.215(a)(1), including support for a
          “CapabilityStatement” as specified in the standard adopted in §
          170.215(a)(1) and implementation specification adopted in §
          170.215(a)(4).
        inferno_supported: 'yes'
        inferno_tests:
          - BDE-02
      - id: SEARCH-5
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support requests for multiple patients’ data as a group
          using the “group-export” operation as detailed in the
          implementation specification adopted in § 170.215(a)(4).
        TLV: |
          The tester verifies the ability of the Health IT Module to support
          requests for multiple patients’ data as a group using the “group
          export” operation as detailed in the implementation specification
          adopted in § 170.215(a)(4).
        inferno_supported: 'yes'
        inferno_tests:
          - BDE-10
  - section: Paragraph (g)(10)(i) – Data response
    steps:
      - group: Data Response Checks for Single and Multiple Patients
        id: RESPONSE-1
        SUT: |
          For responses to data for single and multiple patients as described
          in steps 7 and 8 of this section respectively, the health IT developer
          demonstrates the ability of the Health IT Module to respond to
          requests for data according to the implementation specification
          adopted in § 170.215(a)(2), including the following steps.
        inferno_supported: 'yes'
        inferno_tests:
          - USCP-02
          - USCAI-02
          - USCCP-02
          - USCCT-02
          - USCC-02
          - USCID-02
          - USCDRRN-02
          - USCDRLRR-02
          - USCDR-02
          - USCG-02
          - USCI-02
          - USCMR-02
          - USCSSO-02
          - USCPWHO-02
          - USCLRO-02
          - USCPBMIAO-02
          - USCPO-02
          - USCOBH-02
          - USCOBT-02
          - USCOBP-02
          - USCOBW-02
          - USCOHC-02
          - USCOHR-02
          - USCORR-02
          - USCPROC-02
          - USCCN-02
          - USCO-02
          - USCPROV-02
          - BDGV-01
      - id: RESPONSE-2
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to respond with data that meet the following conditions:
          * All data elements indicated with a cardinality of one or greater and / or “must support” are included;
          * Content is structurally correct;
          * All invariant rules are met;
          * All data elements with required “ValueSet” bindings contain codes within the bound “ValueSet”;
          * All information is accurate and without omission; and
          * All references within the resources can be resolved and validated, as applicable, according to steps 2-6 of this section
        TLV: |
          The tester verfies the ability of the Health IT
          Module to respond with data that meet the following conditions:
          * All data elements indicated with a cardinality of one or greater and / or “must support” are included;
          * Content is structurally correct;
          * All invariant rules are met;
          * All data elements with required “ValueSet” bindings contain codes within the bound “ValueSet”;
          * All information is accurate and without omission; and
          * All references within the resources can be resolved and validated, as applicable, according to steps 2-6 of this section
        inferno_supported: 'yes'
        inferno_tests:
          - ATT-07
          - USCP-02
          - USCAI-02
          - USCCP-02
          - USCCT-02
          - USCC-02
          - USCID-02
          - USCDRRN-02
          - USCDRLRR-02
          - USCDR-02
          - USCG-02
          - USCI-02
          - USCMR-02
          - USCSSO-02
          - USCPWHO-02
          - USCLRO-02
          - USCPBMIAO-02
          - USCPO-02
          - USCOBH-02
          - USCOBT-02
          - USCOBP-02
          - USCOBW-02
          - USCOHC-02
          - USCOHR-02
          - USCORR-02
          - USCPROC-02
          - USCCN-02
          - USCO-02
          - USCPROV-02
          - BDGV-01
        inferno_notes: |
          The requirement "all information is accurate and without omission"
          cannot be verified automatically by Inferno, as Inferno only has
          visibility into the data being returned in the API.  Inferno also does
          not require a specific set of data to be loaded.  Because of this,
          omissions are not possible to detect.  However, the tester can use the
          tool to compare responses to what is displayed in the system, and
          register this as an attestation.
      - id: RESPONSE-3
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support a “Provenance” FHIR resource for all the FHIR
          resources included in the standard adopted in § 170.213 and
          implementation specification adopted in § 170.215(a)(2) according
          to the “Basic Provenance Guidance” section of the implementation
          specification adopted in § 170.215(a)(2).
        TLV: |
          The tester verfies the ability of the Health IT
          Module to support a “Provenance” FHIR resource for all the FHIR
          resources included in the standard adopted in § 170.213 and
          implementation specification adopted in § 170.215(a)(2) according
          to the “Basic Provenance Guidance” section of the implementation
          specification adopted in § 170.215(a)(2).
        inferno_supported: 'yes'
        inferno_tests:
          - USCP-11
          - USCAI-06
          - USCCP-08
          - USCCT-05
          - USCC-09
          - USCID-06
          - USCDRRN-10
          - USCDRLRR-10
          - USCDR-11
          - USCG-07
          - USCI-07
          - USCMR-09
          - USCSSO-05
          - USCPWHO-09
          - USCLRO-09
          - USCPBMIAO-09
          - USCPO-09
          - USCOBH-09
          - USCOBT-09
          - USCOBP-09
          - USCOBW-09
          - USCOHC-09
          - USCOHR-09
          - USCORR-09
          - USCPROC-08
          - USCPROV-01 - USCPROV-04
          - BDGV-01
      - id: RESPONSE-4
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support a “DocumentReference” and/or “DiagnosticReport” FHIR
          resource for each of the “Clinical Notes” and “Diagnostic Reports”
          included in and according to the “Clinical Notes Guidance” section of
          the implementation specification adopted in § 170.215(a)(2)..
        TLV: |
          The tester verifies the ability of the Health IT Module to support
          a “DocumentReference” and/or “DiagnosticReport” FHIR resource for each
          of the “Clinical Notes” and “Diagnostic Reports” included in and
          according to the “Clinical Notes Guidance” section of the
          implementation specification adopted in § 170.215(a)(2).
        inferno_supported: 'yes'
        inferno_tests:
          - USCCN-01 - USCCN-09
      - id: RESPONSE-5
        SUT: |
          If supported, and for responses to data for a single patient only, the
          health IT developer demonstrates the ability of the Health IT
          Module to support a “Medication” FHIR resource according to the
          “Medication List Guidance” section of the implementation
          specification adopted in § 170.215(a)(2).
        TLV: |
          If supported, and for responses to data for a single patient only, the
          tester verfies the ability of the Health IT
          Module to support a “Medication” FHIR resource according to the
          “Medication List Guidance” section of the implementation
          specification adopted in § 170.215(a)(2).
        inferno_supported: 'yes'
        inferno_tests:
          - USCMR-11
      - id: RESPONSE-6
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support “DataAbsentReason” as specified in the
          implementation specification adopted in § 170. 215(a)(2),
          including:
          * “DataAbsentReason” Extension; and
          * “DataAbsentReason” Code System.
        TLV: |
          The tester verfies the ability of the Health IT
          Module to support “DataAbsentReason” as specified in the
          implementation specification adopted in § 170. 215(a)(2),
          including:
          * “DataAbsentReason” Extension; and
          * “DataAbsentReason” Code System.
        inferno_supported: 'yes'
        inferno_tests: 
          - USCDAR-01 - USCDAR-02
      - group: Response to Requests for a Single Patient’s Data
        id: RESPONSE-7
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to return all of the data associated with requests for a
          single patient’s data according to the “US Core Server
          CapabilityStatement” section of the implementation specification
          adopted in § 170.215(a)(2) for all the data included in the standard
          adopted in § 170.213.
        TLV: |
          The tester verifies the ability of the Health IT
          Module to return all of the data associated with requests for a
          single patient’s data according to the “US Core Server
          CapabilityStatement” section of the implementation specification
          adopted in § 170.215(a)(2) for all the data included in the standard
          adopted in § 170.213.
        inferno_supported: 'yes'
        inferno_tests:
          - USCP-02
          - USCAI-02
          - USCCP-02
          - USCCT-02
          - USCC-02
          - USCID-02
          - USCDRRN-02
          - USCDRLRR-02
          - USCDR-02
          - USCG-02
          - USCI-02
          - USCMR-02
          - USCSSO-02
          - USCPWHO-02
          - USCLRO-02
          - USCPBMIAO-02
          - USCPO-02
          - USCOBH-02
          - USCOBT-02
          - USCOBP-02
          - USCOBW-02
          - USCOHC-02
          - USCOHR-02
          - USCORR-02
          - USCPROC-02
          - USCCN-02
          - USCO-02
          - USCPR-02
          - USCPROV-02
      - group: Response to Requests for Multiple Patients’ Data
        id: RESPONSE-8
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to respond to requests for multiple patients’ data
          according to the implementation specification adopted in §
          170.215(a)(4) for all of the FHIR resources associated with the
          profiles and Data Elements specified in and according to the 
          standard adopted in § 170.213 and implementation specification
          adopted in § 170.215(a)(2), including the following FHIR resources:
          “AllergyIntolerance”;
          * “CarePlan”;
          * “CareTeam”;
          * “Condition”;
          * “Device”;
          * “DiagnosticReport”;
          * “DocumentReference”;
          * “Encounter”;
          * “Goal”;
          * “Immunization”;
          * “Location”;
          * “Medication” (if supported);
          * “MedicationRequest”;
          * “Observation”;
          * “Organization”;
          * “Patient”;
          * “Practitioner”;
          * “PractitionerRole”;
          * “Procedure”;
          * “Provenance”; and
          * “RelatedPerson”;
        TLV: |
          The tester verifies the ability of the Health IT
          Module to respond to requests for multiple patients’ data
          according to the implementation specification adopted in §
          170.215(a)(4) for all of the FHIR resources associated with the
          profiles and Data Elements specified in and according to the 
          standard adopted in § 170.213 and implementation specification
          adopted in § 170.215(a)(2), including the following FHIR resources:
          “AllergyIntolerance”;
          * “CarePlan”;
          * “CareTeam”;
          * “Condition”;
          * “Device”;
          * “DiagnosticReport”;
          * “DocumentReference”;
          * “Encounter”;
          * “Goal”;
          * “Immunization”;
          * “Location”;
          * “Medication” (if supported);
          * “MedicationRequest”;
          * “Observation”;
          * “Organization”;
          * “Patient”;
          * “Practitioner”;
          * “PractitionerRole”;
          * “Procedure”;
          * “Provenance”; and
          * “RelatedPerson”;
        inferno_supported: 'yes'
        inferno_tests:
          - BDGV-03
          - BDGV-06 - BDGV-21
      - id: RESPONSE-9
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to limit the data returned to only those FHIR resources for
          which the client is authorized according to the implementation
          specification adopted in § 170.215(a)(4).
        TLV: |
          The tester verifies the ability of the Health IT
          Module to limit the data returned to only those FHIR resources for
          which the client is authorized according to the implementation
          specification adopted in § 170.215(a)(4).
        inferno_supported: 'yes'
        inferno_tests:
          - AVR-02 - AVR-14
        inferno_notes: |
          Inferno does not do this because there is no requirement to only
          supported a subset of the scopes.
      - id: RESPONSE-10
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support a successful data response according to the
          implementation adopted in § 170.215(a)(4).
        TLV: |
          The tester verifies the ability of the Health IT
          Module to support a successful data response according to the
          implementation adopted in § 170.215(a)(4).
        inferno_supported: 'yes'
        inferno_tests:
          - BDE-06 - BDE-07
      - id: RESPONSE-11
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support a data response error according to the
          implementation adopted in § 170.215(a)(4).
        TLV: |
          The tester verifies the ability of the Health IT
          Module to support a data response error according to the
          implementation adopted in § 170.215(a)(4).
        inferno_supported: 'yes'
        inferno_tests:
          - BDE-03 - BDE-05
      - id: RESPONSE-12
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support a bulk data delete request according to the
          implementation specification adopted in § 170.215(a)(4).
        TLV: |
          The tester verifies the ability of the Health IT
          Module to support a bulk data delete request according to the
          implementation specification adopted in § 170.215(a)(4).
        inferno_supported: 'yes'
        inferno_tests:
          - BDE-10
      - id: RESPONSE-13
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support a bulk data status request according to the
          implementation specification adopted in § 170.215(a)(4).
        TLV: |
          The tester verifies the ability of the Health IT
          Module to support a bulk data status request according to the
          implementation specification adopted in § 170.215(a)(4).
        inferno_supported: 'yes'
        inferno_tests:
          - BDE-07 - BDE-08
      - id: RESPONSE-14
        SUT: |
          The health IT developer demonstrates the ability of the Health IT
          Module to support a file request according to the implementation
          specification adopted in § 170.215(a)(4), including support for the
          “ndjson” format for files provided.
        TLV: |
          The tester verifies the ability of the Health IT
          Module to support a file request according to the implementation
          specification adopted in § 170.215(a)(4), including support for the
          “ndjson” format for files provided.
        inferno_supported: 'yes'
        inferno_tests:
          - BDGV-01 - BDGV-21
      - id: RESPONSE-15
        SUT: |
          The health IT developer demonstrates that the information
          provided as part of this data response includes data for patients in
          the group identifier provided during the “group-export” request.
        TLV: |
          The tester verifies the information
          provided as part of this data response includes data for patients in
          the group identifier provided during the “group-export” request.
        inferno_supported: 'yes'
        inferno_tests:
          - BDGV-05
  - section: Paragraph (g)(10)(viii) – Documentation
    steps:
      - group: Supported Search Operations for a Single Patient’s Data
        id: DOCUMENTATION-1
        SUT: |
          The health IT developer supplies documentation describing the
          API(s) of the Health IT Module and includes at a minimum:
          * API syntax;
          * Function names;
          * Required and optional parameters supported and their data types;
          * Return variables and their types/structures;
          * Exceptions and exception handling methods and their returns;
          * Mandatory software components;
          * Mandatory software configurations; and
          * All technical requirements and attributes necessary for registration.
        TLV: |
          The tester verifies the
          API(s) of the Health IT Module and includes at a minimum:
          * API syntax;
          * Function names;
          * Required and optional parameters supported and their data types;
          * Return variables and their types/structures;
          * Exceptions and exception handling methods and their returns;
          * Mandatory software components;
          * Mandatory software configurations; and
          * All technical requirements and attributes necessary for registration.
        inferno_supported: 'yes'
        inferno_tests:
          - ATT-09
      - id: DOCUMENTATION-2
        SUT: |
          The health IT developer demonstrates that the documentation
          described in step 1 of this section is available via a publicly
          accessible hyperlink that does not require preconditions or
          additional steps to access.
        TLV: |
          The tester verifies the documentation
          described in step 1 of this section is available via a publicly
          accessible hyperlink that does not require preconditions or
          additional steps to access.
        inferno_supported: 'yes'
        inferno_tests:
          - ATT-09